
> @backend-suite/query-linter@0.1.0 test C:\Users\ACER\Desktop\backend-suite\packages\query-linter
> vitest


[1m[46m RUN [49m[22m [36mv3.2.4 [39m[90mC:/Users/ACER/Desktop/backend-suite/packages/query-linter[39m

 [31mâ¯[39m test/index.test.ts [2m([22m[2m9 tests[22m[2m | [22m[31m3 failed[39m[2m | [22m[33m2 skipped[39m[2m)[22m[32m 116[2mms[22m[39m
   [2m[90mâ†“[39m[22m lintQuery[2m > [22mshould return lint errors for bad SQL
   [2m[90mâ†“[39m[22m lintQuery[2m > [22mshould return no errors for good SQL
   [32mâœ“[39m lintQuery[2m > [22mshould return no errors for valid JSON[32m 4[2mms[22m[39m
   [32mâœ“[39m lintQuery[2m > [22mshould return errors for invalid JSON[32m 3[2mms[22m[39m
[31m   [31mÃ—[31m lintQuery[2m > [22mshould return no errors for valid MongoDB[39m[32m 15[2mms[22m[39m
[31m     â†’ expected [ Array(1) ] to include 'No lint errors'[39m
   [32mâœ“[39m lintQuery[2m > [22mshould return errors for invalid MongoDB[32m 2[2mms[22m[39m
[31m   [31mÃ—[31m beautifyQuery[2m > [22mshould beautify SQL[39m[32m 88[2mms[22m[39m
[31m     â†’ expected 'select\n  *\nfrom\n  users\nwhere\n  â€¦' to match /SELECT \*/i[39m
   [32mâœ“[39m beautifyQuery[2m > [22mshould beautify JSON[32m 0[2mms[22m[39m
[31m   [31mÃ—[31m beautifyQuery[2m > [22mshould beautify MongoDB[39m[32m 1[2mms[22m[39m
[31m     â†’ expected '{ find: "users", filter: { age: { $gtâ€¦' to match /\n/[39m

[31mâ¯â¯â¯â¯â¯â¯â¯[39m[1m[41m Failed Tests 3 [49m[22m[31mâ¯â¯â¯â¯â¯â¯â¯[39m

[41m[1m FAIL [22m[49m test/index.test.ts[2m > [22mlintQuery[2m > [22mshould return no errors for valid MongoDB
[31m[1mAssertionError[22m: expected [ Array(1) ] to include 'No lint errors'[39m
[36m [2mâ¯[22m test/index.test.ts:[2m44:20[22m[39m
    [90m 42| [39m    [35mconst[39m mongo [33m=[39m [32m'{ find: "users", filter: { age: { $gt: 18 } } }'[39m[33m;[39m
    [90m 43| [39m    [35mconst[39m errors [33m=[39m [35mawait[39m [34mlintQuery[39m(mongo[33m,[39m [32m'mongodb'[39m)[33m;[39m
    [90m 44| [39m    [34mexpect[39m(errors)[33m.[39m[34mtoContain[39m([32m'No lint errors'[39m)[33m;[39m
    [90m   | [39m                   [31m^[39m
    [90m 45| [39m  })[33m;[39m
    [90m 46| [39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/3]â¯[22m[39m

[41m[1m FAIL [22m[49m test/index.test.ts[2m > [22mbeautifyQuery[2m > [22mshould beautify SQL
[31m[1mAssertionError[22m: expected 'select\n  *\nfrom\n  users\nwhere\n  â€¦' to match /SELECT \*/i[39m

[32m- Expected:[39m 
/SELECT \*/i

[31m+ Received:[39m 
"select
  *
from
  users
where
  id = 1"

[36m [2mâ¯[22m test/index.test.ts:[2m59:20[22m[39m
    [90m 57| [39m    [35mconst[39m ugly [33m=[39m [32m'select * from users where id=1'[39m[33m;[39m
    [90m 58| [39m    [35mconst[39m pretty [33m=[39m [34mbeautifyQuery[39m(ugly[33m,[39m [32m'sql'[39m)[33m;[39m
    [90m 59| [39m    [34mexpect[39m(pretty)[33m.[39m[34mtoMatch[39m([36m/SELECT \*/i[39m)[33m;[39m
    [90m   | [39m                   [31m^[39m
    [90m 60| [39m    [34mexpect[39m(pretty)[33m.[39m[34mtoMatch[39m([36m/FROM users/i[39m)[33m;[39m
    [90m 61| [39m  })[33m;[39m


[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[2/3]â¯[22m[39m

[41m[1m FAIL [22m[49m test/index.test.ts[2m > [22mbeautifyQuery[2m > [22mshould beautify MongoDB
[31m[1mAssertionError[22m: expected '{ find: "users", filter: { age: { $gtâ€¦' to match /\n/[39m
[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m

[32m- Expected:[39m 
/\n/

[2m      Tests [22m [1m[31m3 failed[39m[22m[2m | [22m[1m[32m4 passed[39m[22m[2m | [22m[33m2 skipped[39m[90m (9)[39m
[2m   Start at [22m 21:09:32
[2m   Duration [22m 3.41s[2m (transform 136ms, setup 0ms, collect 1.42s, tests 116ms, environment 0ms, prepare 618ms)[22m

[31m+ Received:[39m 
"{ find: \"users\", filter: { age: { $gt: 18 } } }"

[36m [2mâ¯[22m test/index.test.ts:[2m73:20[22m[39m
    [90m 71| [39m    [35mconst[39m ugly [33m=[39m [32m'{ find: "users", filter: { age: { $gt: 18 } } }'[39m[33m;[39m
    [90m 72| [39m    [35mconst[39m pretty [33m=[39m [34mbeautifyQuery[39m(ugly[33m,[39m [32m'mongodb'[39m)[33m;[39m
    [90m 73| [39m    [34mexpect[39m(pretty)[33m.[39m[34mtoMatch[39m([36m/\n/[39m)[33m;[39m
    [90m   | [39m                   [31m^[39m
    [90m 74| [39m    [34mexpect[39m(pretty)[33m.[39m[34mtoMatch[39m([36m/find/[39m)[33m;[39m
    [90m 75| [39m  })[33m;[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[3/3]â¯[22m[39m

â€‰ELIFECYCLEâ€‰ Test failed. See above for more details.
